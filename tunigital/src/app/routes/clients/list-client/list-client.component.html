<page-header  title="Companies" hideBreadcrumb ></page-header>

<br>



<div>
  <div fxLayout="row wrap" fxLayoutAlign="space-between center" fxLayoutGap="20px grid">
    <div>
      <mat-form-field appearance="fill" [style.fontSize.px]="14">
        <mat-label>Search</mat-label>
        <input placeholder="Company" type="text" (keyup)="applyFilter($event)"  matInput #input />
      </mat-form-field>
    </div>


    <div>
      <button mat-raised-button
      (click)="openDialog(null)"
      class="gradient-indigo">
        Add Company
      </button>
    </div>
  </div>


  <mat-divider></mat-divider>



    <table mat-table [dataSource]="dataSource" matSort>

      <ng-container matColumnDef="nb">
        <th mat-header-cell *matHeaderCellDef width="7%">NB</th>
        <td mat-cell *matCellDef="let company ; index as i">
          {{(dataSource.data.indexOf(company)+1)}}</td>
      </ng-container>
      <mat-divider></mat-divider>

      <ng-container matColumnDef="Company">
        <th mat-header-cell *matHeaderCellDef mat-sort-header width="12%">Company
        </th>
        <td mat-cell *matCellDef="let company">{{ company.nomCompany }}</td>
      </ng-container>
      <mat-divider></mat-divider>

      <ng-container matColumnDef="Company_rep">
        <th mat-header-cell *matHeaderCellDef mat-sort-header width="12%">Representative</th>
        <td mat-cell *matCellDef="let company">{{ company.companyRep }}</td>
      </ng-container>
      <mat-divider></mat-divider>

      <ng-container matColumnDef="emailClient">
        <th mat-header-cell *matHeaderCellDef mat-sort-header width="26%">Email</th>
        <td mat-cell *matCellDef="let company">{{ company.emailCompany }}</td>
      </ng-container>
      <mat-divider></mat-divider>
      <ng-container matColumnDef="numClient">
        <th mat-header-cell *matHeaderCellDef mat-sort-header width="13%">Phone</th>
        <td mat-cell *matCellDef="let company">{{ company.numCompany }}</td>
      </ng-container>
      <mat-divider></mat-divider>
      <ng-container matColumnDef="addressClient" width="22%">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Address
        </th>
        <td mat-cell *matCellDef="let company">{{ company.addressCompany }}</td>
      </ng-container>
      <mat-divider></mat-divider>
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let company">
          <button class="button24"
          mat-icon-button
                  matTooltip="Edit"
                  (click)="openDialog(company)"
                  >
            <mat-icon class="icon24">create</mat-icon>
          </button>
          &nbsp;
          <button class="button24" mat-icon-button color="warn" (click)="openDialogdel(company)"
                  matTooltip="Delete"
                 >
            <mat-icon class="icon24">delete</mat-icon>
          </button>
        </td>
      </ng-container>




      <tr mat-header-row
          *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      <tr class="mat-row" *matNoDataRow>
        <td *ngIf="input.value" class="mat-cell" colspan="4">
          There is no company
          "{{input.value}}"</td>


      </tr>
    </table>





    <div *ngIf="dataSource.data?.length==0" fxLayoutAlign="center center">
      <h3>No Companies</h3>
    </div>











    <mat-paginator [length]="dataSource.data.length" [pageSize]="5" [pageSizeOptions]="[5, 10, 20]">
    </mat-paginator>
    <mat-divider></mat-divider>



</div>

